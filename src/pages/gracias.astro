---
export const prerender = false;
import Layout from '../layouts/Layout.astro';

// Proteger ruta
if (!Astro.cookies.has('user_name')) {
    return Astro.redirect('/');
}

const userName = Astro.cookies.get('user_name')?.value;
---

<Layout>
	<main class="min-h-screen flex items-center justify-center bg-gray-100 p-6">
		<div class="max-w-xl w-full bg-white rounded-3xl p-10 shadow-2xl text-center border top-t-8 border-t-green-500">
			<div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 text-4xl shadow-inner">
                ✓
            </div>
            
            <h1 class="text-3xl font-extrabold text-gray-800 mb-4">¡Datos guardados con éxito!</h1>
            <p class="text-gray-600 text-lg mb-8">Gracias, <strong>{userName}</strong>. La información de la inspección ha sido registrada de forma segura en la base de datos.</p>

            <div class="flex flex-col gap-4">
                <a href="/encuesta" class="bg-blue-600 text-white font-bold py-3 rounded-2xl shadow-lg hover:bg-blue-700 transition">Hacer nueva Inspección</a>
                <a href="/api/logout" class="bg-gray-200 text-gray-700 font-bold py-3 rounded-2xl shadow-sm hover:bg-gray-300 transition">Cerrar Sesión</a>
            </div>
        </div>
	</main>
</Layout>
